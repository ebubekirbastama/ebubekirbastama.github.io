<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Türkiye Trafik Uygulamaları Haritası</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .highlight {
      background-color: #ffeeba !important;
      transition: background-color 0.6s ease;
    }
  </style>
  <!-- amCharts Kütüphaneleri -->
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/geodata/turkeyLow.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
</head>
<body>
<div class="container my-4">
  <h2 class="text-center">Türkiye Trafik Uygulamaları</h2>
  <div id="map" style="width: 100%; height: 500px;"></div>

  <div class="table-responsive mt-4">
    <table id="dataTable" class="table table-bordered table-striped table-hover align-middle">
      <thead class="table-dark text-center">
        <tr>
          <th>İl Adı</th>
          <th>Radarlı Trafik Uygulaması</th>
          <th>Radarsız Trafik Uygulaması</th>
        </tr>
      </thead>
      <tbody id="routeTable">
                <tr>
                    <td>Adana</td>
                    <td>9</td>
                    <td>34</td>
                </tr>
            
                <tr>
                    <td>Adıyaman</td>
                    <td>1</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Afyonkarahisar</td>
                    <td>8</td>
                    <td>12</td>
                </tr>
            
                <tr>
                    <td>Ağrı</td>
                    <td>2</td>
                    <td>10</td>
                </tr>
            
                <tr>
                    <td>Amasya</td>
                    <td>2</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Ankara</td>
                    <td>31</td>
                    <td>35</td>
                </tr>
            
                <tr>
                    <td>Antalya</td>
                    <td>13</td>
                    <td>28</td>
                </tr>
            
                <tr>
                    <td>Artvin</td>
                    <td>2</td>
                    <td>5</td>
                </tr>
            
                <tr>
                    <td>Aydın</td>
                    <td>8</td>
                    <td>22</td>
                </tr>
            
                <tr>
                    <td>Balıkesir</td>
                    <td>6</td>
                    <td>22</td>
                </tr>
            
                <tr>
                    <td>Bilecik</td>
                    <td>10</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Bingöl</td>
                    <td>3</td>
                    <td>5</td>
                </tr>
            
                <tr>
                    <td>Bitlis</td>
                    <td>2</td>
                    <td>8</td>
                </tr>
            
                <tr>
                    <td>Bolu</td>
                    <td>7</td>
                    <td>15</td>
                </tr>
            
                <tr>
                    <td>Burdur</td>
                    <td>7</td>
                    <td>7</td>
                </tr>
            
                <tr>
                    <td>Bursa</td>
                    <td>10</td>
                    <td>52</td>
                </tr>
            
                <tr>
                    <td>Çanakkale</td>
                    <td>4</td>
                    <td>25</td>
                </tr>
            
                <tr>
                    <td>Çankırı</td>
                    <td>3</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Çorum</td>
                    <td>8</td>
                    <td>8</td>
                </tr>
            
                <tr>
                    <td>Denizli</td>
                    <td>7</td>
                    <td>15</td>
                </tr>
            
                <tr>
                    <td>Diyarbakır</td>
                    <td>4</td>
                    <td>11</td>
                </tr>
            
                <tr>
                    <td>Edirne</td>
                    <td>4</td>
                    <td>10</td>
                </tr>
            
                <tr>
                    <td>Elazığ</td>
                    <td>3</td>
                    <td>11</td>
                </tr>
            
                <tr>
                    <td>Erzincan</td>
                    <td>11</td>
                    <td>7</td>
                </tr>
            
                <tr>
                    <td>Erzurum</td>
                    <td>3</td>
                    <td>21</td>
                </tr>
            
                <tr>
                    <td>Eskişehir</td>
                    <td>8</td>
                    <td>9</td>
                </tr>
            
                <tr>
                    <td>Gaziantep</td>
                    <td>18</td>
                    <td>15</td>
                </tr>
            
                <tr>
                    <td>Giresun</td>
                    <td>3</td>
                    <td>20</td>
                </tr>
            
                <tr>
                    <td>Gümüşhane</td>
                    <td>3</td>
                    <td>5</td>
                </tr>
            
                <tr>
                    <td>Hakkari</td>
                    <td>2</td>
                    <td>10</td>
                </tr>
            
                <tr>
                    <td>Hatay</td>
                    <td>4</td>
                    <td>29</td>
                </tr>
            
                <tr>
                    <td>Isparta</td>
                    <td>1</td>
                    <td>8</td>
                </tr>
            
                <tr>
                    <td>Mersin</td>
                    <td>9</td>
                    <td>52</td>
                </tr>
            
                <tr>
                    <td>İstanbul</td>
                    <td>19</td>
                    <td>64</td>
                </tr>
            
                <tr>
                    <td>İzmir</td>
                    <td>36</td>
                    <td>104</td>
                </tr>
            
                <tr>
                    <td>Kars</td>
                    <td>5</td>
                    <td>10</td>
                </tr>
            
                <tr>
                    <td>Kastamonu</td>
                    <td>6</td>
                    <td>7</td>
                </tr>
            
                <tr>
                    <td>Kayseri</td>
                    <td>11</td>
                    <td>12</td>
                </tr>
            
                <tr>
                    <td>Kırklareli</td>
                    <td>3</td>
                    <td>12</td>
                </tr>
            
                <tr>
                    <td>Kırşehir</td>
                    <td>6</td>
                    <td>3</td>
                </tr>
            
                <tr>
                    <td>Kocaeli</td>
                    <td>28</td>
                    <td>53</td>
                </tr>
            
                <tr>
                    <td>Konya</td>
                    <td>24</td>
                    <td>26</td>
                </tr>
            
                <tr>
                    <td>Kütahya</td>
                    <td>9</td>
                    <td>11</td>
                </tr>
            
                <tr>
                    <td>Malatya</td>
                    <td>9</td>
                    <td>15</td>
                </tr>
            
                <tr>
                    <td>Manisa</td>
                    <td>15</td>
                    <td>30</td>
                </tr>
            
                <tr>
                    <td>Kahramanmaraş</td>
                    <td>11</td>
                    <td>28</td>
                </tr>
            
                <tr>
                    <td>Mardin</td>
                    <td>2</td>
                    <td>20</td>
                </tr>
            
                <tr>
                    <td>Muğla</td>
                    <td>13</td>
                    <td>21</td>
                </tr>
            
                <tr>
                    <td>Muş</td>
                    <td>0</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Nevşehir</td>
                    <td>9</td>
                    <td>10</td>
                </tr>
            
                <tr>
                    <td>Niğde</td>
                    <td>15</td>
                    <td>9</td>
                </tr>
            
                <tr>
                    <td>Ordu</td>
                    <td>4</td>
                    <td>17</td>
                </tr>
            
                <tr>
                    <td>Rize</td>
                    <td>1</td>
                    <td>10</td>
                </tr>
            
                <tr>
                    <td>Sakarya</td>
                    <td>7</td>
                    <td>26</td>
                </tr>
            
                <tr>
                    <td>Samsun</td>
                    <td>12</td>
                    <td>29</td>
                </tr>
            
                <tr>
                    <td>Siirt</td>
                    <td>2</td>
                    <td>3</td>
                </tr>
            
                <tr>
                    <td>Sinop</td>
                    <td>4</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Sivas</td>
                    <td>12</td>
                    <td>22</td>
                </tr>
            
                <tr>
                    <td>Tekirdağ</td>
                    <td>5</td>
                    <td>17</td>
                </tr>
            
                <tr>
                    <td>Tokat</td>
                    <td>13</td>
                    <td>19</td>
                </tr>
            
                <tr>
                    <td>Trabzon</td>
                    <td>1</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Tunceli</td>
                    <td>3</td>
                    <td>3</td>
                </tr>
            
                <tr>
                    <td>Şanlıurfa</td>
                    <td>17</td>
                    <td>19</td>
                </tr>
            
                <tr>
                    <td>Uşak</td>
                    <td>4</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Van</td>
                    <td>2</td>
                    <td>11</td>
                </tr>
            
                <tr>
                    <td>Yozgat</td>
                    <td>3</td>
                    <td>4</td>
                </tr>
            
                <tr>
                    <td>Zonguldak</td>
                    <td>1</td>
                    <td>9</td>
                </tr>
            
                <tr>
                    <td>Aksaray</td>
                    <td>9</td>
                    <td>5</td>
                </tr>
            
                <tr>
                    <td>Bayburt</td>
                    <td>1</td>
                    <td>2</td>
                </tr>
            
                <tr>
                    <td>Karaman</td>
                    <td>5</td>
                    <td>6</td>
                </tr>
            
                <tr>
                    <td>Kırıkkale</td>
                    <td>1</td>
                    <td>5</td>
                </tr>
            
                <tr>
                    <td>Batman</td>
                    <td>1</td>
                    <td>9</td>
                </tr>
            
                <tr>
                    <td>Şırnak</td>
                    <td>3</td>
                    <td>12</td>
                </tr>
            
                <tr>
                    <td>Bartın</td>
                    <td>1</td>
                    <td>8</td>
                </tr>
            
                <tr>
                    <td>Ardahan</td>
                    <td>2</td>
                    <td>4</td>
                </tr>
            
                <tr>
                    <td>Iğdır</td>
                    <td>0</td>
                    <td>7</td>
                </tr>
            
                <tr>
                    <td>Yalova</td>
                    <td>5</td>
                    <td>3</td>
                </tr>
            
                <tr>
                    <td>Karabük</td>
                    <td>2</td>
                    <td>5</td>
                </tr>
            
                <tr>
                    <td>Kilis</td>
                    <td>3</td>
                    <td>3</td>
                </tr>
            
                <tr>
                    <td>Osmaniye</td>
                    <td>1</td>
                    <td>20</td>
                </tr>
            
                <tr>
                    <td>Düzce</td>
                    <td>7</td>
                    <td>16</td>
                </tr>
            </tbody>
    </table>
  </div>
</div>

<script>
  am5.ready(function() {
    var root = am5.Root.new("map");
    root.setThemes([am5themes_Animated.new(root)]);

    var chart = root.container.children.push(
      am5map.MapChart.new(root, {
        panX: "none",
        panY: "none",
        wheelX: "none",
        wheelY: "none",
        projection: am5map.geoMercator()
      })
    );

    var polygonSeries = chart.series.push(
      am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_turkeyLow,
        valueField: "value",
        calculateAggregates: true
      })
    );

    polygonSeries.mapPolygons.template.setAll({
      tooltipText: "{name}",
      interactive: true
    });

    polygonSeries.mapPolygons.template.events.on("click", function(ev) {
      let il = ev.target.dataItem.dataContext.name;
      let ilId = document.getElementById(il);
      if (ilId) {
        document.querySelectorAll("tr").forEach(row => row.classList.remove("highlight"));
        ilId.classList.add("highlight");
        ilId.scrollIntoView({ behavior: 'smooth', block: 'center' });
      } else {
        alert(il + " için veri bulunamadı.");
      }
    });

    polygonSeries.data.setAll([]);
  });
</script>
</body>
</html>
